# WeatherNow — дизайн‑документ мобильного приложения

## Краткое описание
Простое погодное приложение с избранными городами. Пользователь видит текущую погоду, может добавить/удалить город в избранное и быстро переключаться между городами. Продукт рассчитан на 2–3 экрана и реализуется по этапам лабораторных работ.

## Основные функции
- Просмотр текущей погоды для выбранного города (температура, состояние, ощущаемая температура, ветер).
- Список избранных городов; выбор активного города из списка.
- Добавление города в избранное по названию; удаление города.
- Обновление данных по запросу пользователя.
- Базовая стилизация: фоновый цвет, карточки погоды, иконки состояния.

## Экраны и структура
- `Главный экран (Погода)`: отображает погоду активного города; кнопка обновить; кнопка «Избранные».
- `Экран избранных`: список городов; действия «Добавить», «Удалить», «Выбрать активный».
- `Экран поиска/добавления`: поле ввода названия города, кнопка «Добавить».

## Навигация
- Из главного экрана по кнопке «Избранные» → экран избранных.
- На экране избранных: выбор города возвращает на главный с обновлением данных; кнопка «Добавить» открывает экран поиска/добавления.
- Кнопка/жест «Назад» возвращает на предыдущий экран.

## Эскизы (схематично)
Главный экран:
- [Город • температура • иконка состояния]
- Ощущается как X° | Ветер Y м/с
- Кнопка «Обновить»
- Кнопка «Избранные»

```
┌───────────────────────────────┐
│  Город         ☀  +18°        │
│  Ощущается: +17°              │
│  Ветер: 3 м/с                 │
├───────────────────────────────┤
│ [ Обновить ]   [ Избранные ]  │
└───────────────────────────────┘
```

Экран избранных:
- Список городов (радио/чек для выбора активного)
- Кнопка «Добавить город»
- Иконка «Удалить» у каждого элемента

```
┌───────────────────────────────┐
│ ● Москва          🗑           │
│ ○ Санкт-Петербург 🗑           │
│ ○ Казань          🗑           │
├───────────────────────────────┤
│ [ Добавить город ]            │
└───────────────────────────────┘
```

Экран добавления:
- Поле ввода названия города
- Кнопка «Добавить»
- Сообщение об ошибке при неудачном поиске

```
┌───────────────────────────────┐
│ Введите город:                │
│ [______________ ]             │
│                               │
│ [ Добавить ]                  │
│                               │
│ (ошибка, если город не найден)│
└───────────────────────────────┘
```

## Данные и API
- Временное хранение (ЛР5): список городов и активный город в памяти.
- Постоянное хранение (ЛР6): `shared_preferences` для избранных.
- Публичный API (ЛР5–ЛР6): Open-Meteo (https://open-meteo.com) или Weather API из списка public-apis. Запрос по названию города: 1) геокодирование (например, https://geocoding-api.open-meteo.com/v1/search?name={city}); 2) получение погоды по координатам (https://api.open-meteo.com/v1/forecast?latitude={lat}&longitude={lon}&current_weather=true).

## Этапы реализации
- ЛР4 (верстка): создать 2–3 экрана, навигацию, базовые стили, статичные мок-данные.
- ЛР5 (логика): ввод текста, добавление/удаление/выбор города в списке, обновление экрана погоды, обработка ошибок, запрос к API и отображение текущей погоды.
- ЛР6 (данные): сохранение избранных городов и последнего активного города в `shared_preferences`; кэш последнего ответа; доработка стейта при старте приложения.

